var queue=function(){var f=function(a){var b,d;return{next:function(){return d},prev:function(){return b},setNext:function(a){d=a},setPrev:function(a){b=a},item:function(){return a}}},c,b;return{enqueue:function(a){a=f(a);void 0==c?(c=a,void 0==b&&(b=a)):(a.setNext(c),c.setPrev(a),c=a)},dequeue:function(){if(void 0!=b){var a=b.item();b=b.prev();void 0!=b?b.setNext(void 0):c=void 0;return a}void 0!=c&&(c=void 0)},peek:function(){return void 0!=b?b.item():void 0},items:function(){for(var a=b,c=[];void 0!=
a;)c.push(a.item()),a=a.prev();return c}}},timedQueue=function(f){var c=function(a,b){var c,e;return{next:function(){return e},prev:function(){return c},setNext:function(a){e=a},setPrev:function(a){c=a},item:function(){return a},instant:function(){return b}}},b,a,e=function(){for(var d=(new Date).getTime()-f;void 0!=a&&a.instant()<d;)a=a.prev(),void 0!=a&&a.setNext(void 0);void 0==a&&(b=void 0)};return{enqueue:function(d){d=c(d,(new Date).getTime());void 0==b?(b=d,void 0==a&&(a=d)):(d.setNext(b),
b.setPrev(d),b=d);e()},dequeue:function(){e();if(void 0!=a){var b=a.item();a=a.prev();a.setNext(void 0);return b}},peek:function(){e();return void 0!=a?a.item():void 0},items:function(){e();for(var b=a,c=[];void 0!=b;)c.push(b.item()),b=b.prev();return c}}};
