function serverResponse(a){}function receiveUsername(a){}function receiveUserGroups(a){}function receiveConversationDetails(a){void 0!=currentConversation&&void 0!=a&&"jid"in currentConversation&&"jid"in a&&a.jid==currentConversation.jid&&(currentConversation=a)}function receiveNewConversationDetails(a){}
var slideReorderInProgress=!1,reapplyVisualState=function(){var a=$("#reorderInProgress");slideReorderInProgress?a.show():a.hide();$("#sortableRoot").sortable({handle:".slideDragHandle",stop:function(a,b){slideReorderInProgress=!0;reapplyVisualState()}}).disableSelection();$("#reorderSlides").unbind("click").on("click",function(){sendChangedSlides()});$("#cancelReorderSlides").unbind("click").on("click",function(){slideReorderInProgress=!1;refreshFromServer()});_.forEach($(".slideContainer"),function(a){var b=
$(a),c=$(b).next(".slideContainer"),e=$(b).prev(".slideContainer");a=b.find(".moveSlideBack");var d=b.find(".moveSlideForward");a.unbind("click");d.unbind("click");0==c.length?d.hide():(d.show(),d.on("click",function(){slideReorderInProgress=!0;b.detach();c.after(b);reapplyVisualState()}));0==e.length?a.hide():(a.show(),a.on("click",function(){slideReorderInProgress=!0;b.detach();e.before(b);reapplyVisualState()}))})};
function sendChangedSlides(){try{if(void 0!=currentConversation&&"jid"in currentConversation&&"slides"in currentConversation){var a=0,f=_.map($(".slideId"),function(b){var c=parseInt($(b).text());b=_.find(currentConversation.slides,function(a){return a.id==c?!0:!1});"groupSet"in b||(b.groupSet=[]);b.index=a;a+=1;return b});reorderSlidesOfCurrentConversation(currentConversation.jid,f);slideReorderInProgress=!1;reapplyVisualState()}}catch(b){console.log("exception while reordering slides",b)}}$(function(){reapplyVisualState()});
