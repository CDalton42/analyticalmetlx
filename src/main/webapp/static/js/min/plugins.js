var Plugins=function(){return{"Face to face":function(){var b=$("<div />");return{style:".publishedStream {background:green;} .subscribedStream {background:red;} .publisherVideoElem, .subscriberVideoElem {display:flex;} .videoConfStartButton, .videoConfSubscribeButton {background:white;} .videoConfSessionContainer, .videoConfStartButtonContainer, .videoConfContainer{display:flex;} .broadcastContainer{display:none;}",load:function(e,a){b.append('<span id="videoConfSessionsContainer"><div class="videoConfSessionContainer"><span class="videoConfStartButtonContainer"><button class="floatingToolbar btn-menu fa fa-video-camera btn-icon videoConfStartButton"><div class="icon-txt">Send video</div></button></span><span class="broadcastContainer"><a class="floatingToolbar btn-menu fa fa-television btn-icon broadcastLink"><div class="icon-txt">Watch class</div></a></span><div class="videoSubscriptionsContainer"></div><div class="videoConfContainer"><span class="videoContainer"><button class="floatingToolbar btn-menu fa fa-television btn-icon videoConfSubscribeButton"><div class="icon-txt">Receive</div></button></span></div></div></span>');
return b},initialize:TokBox.initialize}}(),Groups:function(){var b=$("<div />"),e=function(a,b,c){a=$("<button />",{"class":sprintf("%s btn-icon fa",a),click:c});$("<div />",{"class":"icon-txt",text:b}).appendTo(a);return a};return{style:".groupsPluginMember{margin-left:0.5em;} .groupsPluginGroupContainer{display:flex;margin-right:1em;} .groupsPluginGroupContainer .icon-txt, .groupsPluginAllGroupsControls .icon-txt, .groupsPluginAllGroupsControls .fa{color:white;} .groupsPluginGroup{display:inline-block;text-align:center;vertical-align:top;} .groupsPluginGroupGrade button, .groupsPluginGroupGrade .icon-txt{padding:0;color:white;margin-top:0;} .groupsPluginGroupControls button, .groupsPluginGroupControls .icon-txt{padding:0;color:white;margin-top:0;} .isolateGroup label{margin-top:1px;} .groupsPluginGroupControls{display:flex;} .groupsPluginGroupGrade{border:0.5px solid white;background-color:white;color:black;margin-bottom:1px;} .groupsPluginAllGroupsControls{margin-bottom:0.5em;border-bottom:0.5px solid white;padding-left:1em;display:flex;}",
load:function(a,d){var c=function(){try{if(b.empty(),Conversations.shouldModifyConversation()){var a=Conversations.getCurrentSlide();if(a){var c=Conversations.getCurrentGroups();if(c.length){var d=sprintf("groupWork_%s",a.id),f=_.find(Grades.getGrades(),function(a){return a.location==d});$("<div />",{"class":"groupsPluginAllGroupsControls"}).append($("<input />",{type:"radio",name:"groupView",id:"showAll"}).click(function(){_.each(c,function(a){ContentFilter.setFilter(a.id,!0)});ContentFilter.clearAudiences();
blit()})).append($("<label />",{"for":"showAll"}).css({"flex-grow":0}).append($("<span />",{"class":"icon-txt",text:"Show all"}))).appendTo(b);var m=$("<div />").css({display:"flex"}).appendTo(b);_.each(c,function(a){var b=$("<div />",{"class":"groupsPluginGroupContainer"}).appendTo(m),d=$("<div />",{"class":"groupsPluginGroup"}).appendTo(b);_.each(["A","B","C","D"],function(b){$("<div />",{text:b,"class":"groupsPluginGroupGrade btn-icon"}).appendTo(d).on("click",function(){void 0!=f&&_.each(a.members,
function(a){a={type:"textGradeValue",gradeId:f.id,gradeValue:b,gradedUser:a,author:UserSettings.getUsername(),timestamp:0,audiences:[]};sendStanza(a)})})});b=$("<div />").appendTo(b);$("<span />",{text:sprintf("Group %s",a.title),"class":"ml"}).appendTo(b);var g=$("<div />",{"class":"groupsPluginGroupControls"}).appendTo(b);e("fa-share-square","Submit screen",function(){h.find("input").prop("checked",!0).change();console.log("Isolating and screenshotting",h);_.defer(Submissions.sendSubmission)}).appendTo(g);
var k=sprintf("isolateGroup_%s",a.title),h=$("<div />",{"class":"isolateGroup"}).append($("<input />",{type:"radio",name:"groupView",id:k}).change(function(){_.each(c,function(a){ContentFilter.setFilter(a.id,!1)});ContentFilter.setFilter(a.id,!0);ContentFilter.setAudience(a.id);blit()})).append($("<label />",{"for":k}).append($("<span />",{"class":"icon-txt",text:"Isolate"}).css({"margin-top":"5px"}))).appendTo(g),n=$("<div />",{"class":"groupsPluginGroup"}).appendTo(b);_.each(a.members,function(a){$("<div />",
{text:a,"class":"groupsPluginMember"}).appendTo(n)})})}}}}catch(l){console.log("Groups plugin render e",l)}};a.currentSlideJidReceived["Groups plugin"]=c;a.conversationDetailsReceived["Groups plugin"]=c;return b},initialize:function(){}}}()}}();
$(function(){var b=$("#pluginBar"),e=$("<style></style>").appendTo($("body"));_.each(Plugins,function(a,d){var c=$("<div />",{"class":"plugin"});$("<div />",{text:" ","class":"pluginName"}).prependTo(c);a.load(Progress).appendTo(c);e.append(a.style);c.appendTo(b);a.initialize()})});
