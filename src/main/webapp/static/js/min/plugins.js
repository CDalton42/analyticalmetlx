var Plugins=function(){return{"Face to face":function(){var b=$("<div />");return{style:".publishedStream {background:green;} .subscribedStream {background:red;} .videoConfStartButton, .videoConfSubscribeButton {background:white;margin:1px;} .videoConfSessionContainer, .videoConfStartButtonContainer, .videoConfContainer{display:flex;} .videoConfStartButtonContainer{flex-direction:row;} .videoConfStartButton{padding:0 1em;font-size:1rem;} #videoConfSessionsContainer{display:flex;} .videoConfSessionContainer{width:160px;flex-direction:column;} .context{font-size:1rem;} .broadcastContainer{display:none;}",
load:function(e,a){b.append('<span id="videoConfSessionsContainer"><div class="videoConfSessionContainer"><div class="videoConfStartButtonContainer"><button class="videoConfStartButton"><div>Start sending</div></button><span class="context"></span></div><div class="viewscreen"></div><div class="broadcastContainer"><a class="floatingToolbar btn-menu fa fa-television btn-icon broadcastLink"><div class="icon-txt">Watch class</div></a></div><div class="videoSubscriptionsContainer"></div><div class="videoConfContainer"><span class="videoContainer"><button class="floatingToolbar btn-menu fa fa-television btn-icon videoConfSubscribeButton"><div class="icon-txt">Receive</div></button></span></div></div></span>');
return b},initialize:TokBox.initialize}}(),Groups:function(){var b=$("<div />"),e=function(a,b,c){a=$("<button />",{"class":sprintf("%s btn-icon fa",a),click:c});$("<div />",{"class":"icon-txt",text:b}).appendTo(a);return a};return{style:".groupsPluginMember{margin-left:0.5em;} .groupsPluginGroupContainer{display:flex;margin-right:1em;} .groupsPluginGroupContainer .icon-txt, .groupsPluginAllGroupsControls .icon-txt, .groupsPluginAllGroupsControls .fa{color:white;} .groupsPluginGroup{display:inline-block;text-align:center;vertical-align:top;} .groupsPluginGroupGrade button, .groupsPluginGroupGrade .icon-txt{padding:0;color:white;margin-top:0;} .groupsPluginGroupControls button, .groupsPluginGroupControls .icon-txt{padding:0;color:white;margin-top:0;} .isolateGroup label{margin-top:1px;} .isolateGroup{margin-top:0.8em;} .memberCurrentGrade{color:black;background-color:white;margin-right:0.5em;padding:0 .5em;} .groupsPluginGroupControls{display:flex;} .groupsPluginGroupGrade{background-color:white;color:black;margin:2px;padding:0 0.3em;height:3em;display:inline;} .groupsPluginAllGroupsControls{margin-bottom:0.5em;border-bottom:0.5px solid white;padding-left:1em;display:flex;}",
load:function(a,f){var c=function(){try{if(b.empty(),Conversations.shouldModifyConversation()){var a=Conversations.getCurrentSlide();if(a){var c=Conversations.getCurrentGroups();if(c.length){var d=sprintf("groupWork_%s",a.id),g=_.find(Grades.getGrades(),function(a){return a.location==d}),h=Grades.getGradeValues()[g.id];$("<div />",{"class":"groupsPluginAllGroupsControls"}).append($("<input />",{type:"radio",name:"groupView",id:"showAll"}).click(function(){_.each(c,function(a){ContentFilter.setFilter(a.id,
!0)});ContentFilter.clearAudiences();blit()})).append($("<label />",{"for":"showAll"}).css({"flex-grow":0}).append($("<span />",{"class":"icon-txt",text:"Show all"}).css({"margin-top":"3px"}))).appendTo(b);var f=$("<div />").css({display:"flex"}).appendTo(b);_.each(c,function(a){var b=$("<div />",{"class":"groupsPluginGroupContainer"}).appendTo(f),d=$("<div />",{"class":"groupsPluginGroup"}).css({display:"block"});_.each(["A","B","C","D","F"],function(b){$("<div />",{text:b,"class":"groupsPluginGroupGrade"}).appendTo(d).on("click",
function(){void 0!=g&&_.each(a.members,function(a){a={type:"textGradeValue",gradeId:g.id,gradeValue:b,gradedUser:a,author:UserSettings.getUsername(),timestamp:0,audiences:[]};sendStanza(a)})})});var k=$("<div />").appendTo(b);$("<span />",{text:sprintf("Group %s",a.title),"class":"ml"}).appendTo(k);var l=$("<div />",{"class":"groupsPluginGroupControls"}).appendTo(k);e("fa-share-square","",function(){m.find("input").prop("checked",!0).change();console.log("Isolating and screenshotting",m);_.defer(Submissions.sendSubmission)}).appendTo(l);
var n=sprintf("isolateGroup_%s",a.title),m=$("<div />",{"class":"isolateGroup"}).append($("<input />",{type:"radio",name:"groupView",id:n}).change(function(){_.each(c,function(a){ContentFilter.setFilter(a.id,!1)});ContentFilter.setFilter(a.id,!0);ContentFilter.setAudience(a.id);blit()})).append($("<label />",{"for":n}).append($("<span />",{"class":"icon-txt",text:"Isolate"}).css({"margin-top":"5px"}))).appendTo(l),p=$("<div />",{"class":"groupsPluginGroup"}).prependTo(b);_.each(a.members,function(a){var b=
$("<div />",{text:a,"class":"groupsPluginMember"}).appendTo(p);h&&a in h&&$("<span />",{"class":"memberCurrentGrade",text:h[a].gradeValue}).prependTo(b)});d.appendTo(k)})}}}}catch(q){console.log("Groups plugin render e",q)}};a.gradeValueReceived["Groups plugin"]=function(a){var b=sprintf("groupWork_%s",Conversations.getCurrentSlideJid()),d=_.find(Grades.getGrades(),function(a){return a.location==b});d&&a.gradeId==d.id&&c()};a.currentSlideJidReceived["Groups plugin"]=c;a.conversationDetailsReceived["Groups plugin"]=
c;return b},initialize:function(){}}}()}}();$(function(){var b=$("#pluginBar"),e=$("<style></style>").appendTo($("body"));_.each(Plugins,function(a,f){var c=$("<div />",{"class":"plugin"});a.load(Progress).appendTo(c);e.append(a.style);c.appendTo(b);a.initialize()})});
